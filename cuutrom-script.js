!function(){"use strict";(async()=>{let e,o=0;for(e=[...document.querySelectorAll(".w-full.pointer-events-none.w-full")],console.log(`Enable download ${e.length} pages...`),await Promise.all(e.map((a=>async function(){let n,t=3;for(;t--;){try{n=await fetch(a.__vue__.page.image_url,{cache:"no-store",headers:{Origin:"https://kakarot.cuutruyen.net","Cache-Control":"no-cache",Pragma:"no-cache"}})}catch(e){console.error(e)}break}const r=await n.blob(),c=URL.createObjectURL(r);a.__vue__.page.image_url=c,a.__vue__.image.src=c,a.__vue__.image.crossOrigin="anonymous",a.__vue__.destroyCanvas(),a.__vue__.image.onload=async function(){for(a.__vue__.renderCanvas(),URL.revokeObjectURL(c);await new Promise((e=>setTimeout(e,100))),"data:,"===a.toDataURL("image/png"););a.toBlob((n=>{const t=document.createElement("img"),r=URL.createObjectURL(n);t.onload=()=>{o++,console.log(`Enable download page ${a.__vue__.page.order}th`),console.log(`${o}/${e.length}`)},t.src=r,a.parentNode.replaceChild(t,a)}))}}())));;)if(await new Promise((e=>setTimeout(e,100))),o===e.length){console.log("Done");break}})()}();
