!function(){"use strict";(async()=>{let e,o=0;const a=document.querySelectorAll(".relative.w-full.h-auto").length;for(window.scrollTo(0,document.body.scrollHeight),console.log(`Total ${a} pages`);e=[...document.querySelectorAll(".w-full.pointer-events-none.w-full")],console.log(`Loaded ${e.length}/${a} pages`),!(e.length>=a);)await new Promise((e=>setTimeout(e,1e3)));for(console.log(`Enable download ${e.length} pages...`),await Promise.all(e.map((a=>async function(){let t,n=3;for(;n--;){try{t=await fetch(a.__vue__.page.image_url,{cache:"no-store",headers:{Origin:"https://kakarot.cuutruyen.net","Cache-Control":"no-cache",Pragma:"no-cache"}})}catch(e){console.error(e)}break}const l=await t.blob(),r=URL.createObjectURL(l);a.__vue__.page.image_url=r,a.__vue__.image.src=r,a.__vue__.image.crossOrigin="anonymous",a.__vue__.destroyCanvas(),a.__vue__.image.onload=async function(){for(a.__vue__.renderCanvas(),URL.revokeObjectURL(r);await new Promise((e=>setTimeout(e,100))),"data:,"===a.toDataURL("image/png"););a.toBlob((t=>{const n=document.createElement("img"),l=URL.createObjectURL(t);n.onload=()=>{o++,console.log(`Enable download page ${a.__vue__.page.order}th`),console.log(`${o}/${e.length}`)},n.src=l,a.parentNode.replaceChild(n,a)}))}}())));;)if(await new Promise((e=>setTimeout(e,100))),o===e.length){console.log("Done"),window.scrollTo(0,0);break}})()}();
