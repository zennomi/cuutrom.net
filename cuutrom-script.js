!function(){"use strict";(async()=>{document.querySelector("button.px-6.py-1.text-sm.bg-blue-800.font-bold.text-white")?.click(),document.querySelector(".rounded-l-full.button-bare.text-white.h-8.text-xs.uppercase.font-bold.w-28.whitespace-nowrap").click();let e,o=0;const t=document.querySelectorAll(".relative.w-full.h-auto").length;for(window.scrollTo(0,document.body.scrollHeight),console.log(`Total ${t} pages`);e=[...document.querySelectorAll(".w-full.pointer-events-none.w-full")],console.log(`Loaded ${e.length}/${t} pages`),!(e.length>=t);)await new Promise((e=>setTimeout(e,1e3)));for(console.log(`Enable download ${e.length} pages...`),await Promise.all(e.map((t=>async function(){let a,n=3;for(;n--;){try{a=await fetch(t.__vue__.page.image_url,{cache:"no-store",headers:{Origin:"https://kakarot.cuutruyen.net","Cache-Control":"no-cache",Pragma:"no-cache"}})}catch(e){console.error(e)}break}const l=await a.blob(),c=URL.createObjectURL(l);t.__vue__.page.image_url=c,t.__vue__.image.src=c,t.__vue__.image.crossOrigin="anonymous",t.__vue__.destroyCanvas(),t.__vue__.image.onload=async function(){for(t.__vue__.renderCanvas(),URL.revokeObjectURL(c);await new Promise((e=>setTimeout(e,100))),"data:,"===t.toDataURL("image/png"););t.toBlob((a=>{const n=document.createElement("img"),l=URL.createObjectURL(a);n.onload=()=>{o++,console.log(`Enable download page ${t.__vue__.page.order}th`),console.log(`${o}/${e.length}`)},n.src=l,t.parentNode.replaceChild(n,t)}))}}())));;)if(await new Promise((e=>setTimeout(e,100))),o===e.length){console.log("Done"),window.scrollTo(0,0);break}})()}();
